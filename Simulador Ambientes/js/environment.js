var file = `
{
    "environments": [
        {
            "name": "Cozinha Misura",
            "description": "",
            "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Original.png",
            "thumbnailImageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Original.png",
            "components": [
                {
                    "name": "Ilha",
                    "categories": [
                        {
                            "name": "Shine / Satin / Microtextura",
                            "description": null,
                            "textures": [
                                {
                                    "name": "Branco",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Branco.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDY/gd/n/0/46_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Citrino",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Citrino.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDk/gd/n/0/49_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Grigio",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Grigio.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDc/gd/n/0/47_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Alpina",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Alpina.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDg/gd/n/0/48_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Azul Petróleo",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Azul.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTA/gd/n/0/50_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Azzurro",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Azzurro.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTE/gd/n/0/51_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Bianco",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Bianco.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTI/gd/n/0/52_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Capuccino",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Capuccino.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTM/gd/n/0/53_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Cobalto",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Cobalto.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTQ/gd/n/0/54_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Cotton",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Cotton.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTU/gd/n/0/55_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Linho",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Linho.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTY/gd/n/0/56_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Oliva",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Oliva.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTc/gd/n/0/57_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Preto",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Preto.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTg/gd/n/0/58_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Sand",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Sand.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTk/gd/n/0/59_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Turquesa",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Turquesa.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjA/gd/n/0/60_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Vermelho",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Vermelho.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjE/gd/n/0/61_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Zinco",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Zinco.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjI/gd/n/0/62_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Arancione",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Arancione.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjM/gd/n/0/63_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Arena",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Arena.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjQ/gd/n/0/64_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Bambú",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Bambu.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjU/gd/n/0/65_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Marino",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Marino.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjY/gd/n/0/66_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Mint",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Mint.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Njc/gd/n/0/67_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Platina",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Platina.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Njg/gd/n/0/68_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Senape",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Senape.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Njk/gd/n/0/69_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Violet",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Violet.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NzA/gd/n/0/70_shine-satin-microtextura.jpg"
                                }
                            ]
                        },
                        {
                            "name": "Metallic Fosco",
                            "description": null,
                            "textures": [
                                {
                                    "name": "D&#039;Oro",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/D_Oro.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Mzc/gd/n/0/37_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Golden",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Golden.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Mzg/gd/n/0/38_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Matone",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Matone.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Mzk/gd/n/0/39_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Perlatto",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Perlatto.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDA/gd/n/0/40_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Pietra",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Pietra.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDE/gd/n/0/41_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Roseo",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Roseo.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDI/gd/n/0/42_metallic-fosco.jpg"
                                }
                            ]
                        },
                        {
                            "name": "Metallic Brilho",
                            "description": null,
                            "textures": [
                                {
                                    "name": "Ashes",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Ashes.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDM/gd/n/0/43_metallic-brilho.jpg"
                                },
                                {
                                    "name": "Brown",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Brown.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDQ/gd/n/0/44_metallic-brilho.jpg"
                                },
                                {
                                    "name": "Lead",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Lead.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDU/gd/n/0/45_metallic-brilho.jpg"
                                }
                            ]
                        },
                        {
                            "name": "Pérola",
                            "description": null,
                            "textures": [
                                {
                                    "name": "Violet Pérola",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Perola.jpg",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/MzM/gd/n/0/33_perola.jpg"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "BALCÃO",
                    "categories": [
                        {
                            "name": "Shine / Satin / Microtextura",
                            "description": null,
                            "textures": [
                                {
                                    "name": "Branco",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Branco.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDY/gd/n/0/46_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Citrino",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Citrino.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDk/gd/n/0/49_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Grigio",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Grigio.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDc/gd/n/0/47_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Alpina",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Alpina.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDg/gd/n/0/48_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Azul Petróleo",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Azul.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTA/gd/n/0/50_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Azzurro",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Azzurro.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTE/gd/n/0/51_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Bianco",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Bianco.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTI/gd/n/0/52_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Capuccino",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Capuccino.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTM/gd/n/0/53_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Cobalto",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Cobalto.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTQ/gd/n/0/54_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Cotton",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Cotton.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTU/gd/n/0/55_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Linho",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Linho.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTY/gd/n/0/56_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Oliva",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Oliva.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTc/gd/n/0/57_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Preto",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Preto.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTg/gd/n/0/58_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Sand",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Sand.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NTk/gd/n/0/59_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Turquesa",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Turquesa.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjA/gd/n/0/60_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Vermelho",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Vermelho.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjE/gd/n/0/61_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Zinco",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Zinco.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjI/gd/n/0/62_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Arancione",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Arancione.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjM/gd/n/0/63_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Arena",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Arena.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjQ/gd/n/0/64_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Bambú",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Bambu.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjU/gd/n/0/65_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Marino",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Marino.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NjY/gd/n/0/66_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Mint",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Mint.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Njc/gd/n/0/67_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Platina",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Platina.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Njg/gd/n/0/68_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Senape",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Senape.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Njk/gd/n/0/69_shine-satin-microtextura.jpg"
                                },
                                {
                                    "name": "Violet",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Violet.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NzA/gd/n/0/70_shine-satin-microtextura.jpg"
                                }
                            ]
                        },
                        {
                            "name": "Metallic Fosco",
                            "description": null,
                            "textures": [
                                {
                                    "name": "D&#039;Oro",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/D_Oro.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Mzc/gd/n/0/37_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Golden",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Golden.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Mzg/gd/n/0/38_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Matone",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Matone.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/Mzk/gd/n/0/39_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Perlatto",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Perlatto.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDA/gd/n/0/40_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Pietra",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Pietra.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDE/gd/n/0/41_metallic-fosco.jpg"
                                },
                                {
                                    "name": "Roseo",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Roseo.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDI/gd/n/0/42_metallic-fosco.jpg"
                                }
                            ]
                        },
                        {
                            "name": "Metallic Brilho",
                            "description": null,
                            "textures": [
                                {
                                    "name": "Ashes",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Ashes.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDM/gd/n/0/43_metallic-brilho.jpg"
                                },
                                {
                                    "name": "Brown",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Brown.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDQ/gd/n/0/44_metallic-brilho.jpg"
                                },
                                {
                                    "name": "Lead",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Lead.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/NDU/gd/n/0/45_metallic-brilho.jpg"
                                }
                            ]
                        },
                        {
                            "name": "Pérola",
                            "description": null,
                            "textures": [
                                {
                                    "name": "Violet Pérola",
                                    "imageSource": "https://www.perfarmoveis.com.br/simulador/img/Ilha/Componente2/Perola.png",
                                    "thumbnailImageSource": "https://www.perfarmoveis.com.br/img/seo/MzM/gd/n/0/33_perola.jpg"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}
`;

window.addEventListener(
    "load",
    function() {
        // let request = new XMLHttpRequest();
        // let urlFile = "http://localhost/perfarmoveis/public/simulador/js/environment.json";

        // request.onreadystatechange = function() {
        //     if (this.readyState == 4 && this.status == 200) {
        //         new Environment(
        //             JSON.parse(this.responseText)
        //         );
        //     }
        // };

        // request.open("GET", urlFile, true);
        // request.send();

        new Environment(
            JSON.parse(file)
        );
    }
);

class Environment {
    constructor(object) {
        this.parentCache = [];

        for (let i = 0; i < object.environments.length; i++) {
            let environment = object.environments[i];

            this.getClass("js-environment-thumb").appendChild(
                this.makeThumb(environment)
            );

            if (i == 0) {
                this.makeComponents(environment);
                this.makeEnvironmentStage(environment);
            }

            new TabMenu(
                document.getElementsByClassName("js-tab-button")
            );
        }
    }

    makeThumb(object) {
        let newParent = document.createElement("div");

        newParent.innerHTML = `
            <li class="side-bar__thumb">
                <button class="thumb js-tab-button" data-target="texturas">
                    <span class="thumb__label">
                        ${object.name}
                    </span>
                    <img class="thumb__image" src="${object.thumbnailImageSource}" width="720" height="480" role="presentation"/>
                </button>
            </li>
        `;

        newParent.getElementsByTagName("button")[0].addEventListener(
            "click",
            function() {
                this.makeComponents(object);
                this.makeEnvironmentStage(object);
            }.bind(this)
        );

        return newParent.firstElementChild;
    }

    getClass(className) {
        if (this.parentCache[className] == undefined) {
            parent = document.getElementsByClassName(className)[0];

            if (parent == undefined) {
                throw new Error(`There is no "${className}" element`);
            }

            this.parentCache[className] = parent;
        }

        return this.parentCache[className];
    }

    makeComponents(object) {
        let componentsElement = this.getClass("js-components");
        componentsElement.innerHTML = "";

        for (let i = 0; i < object.components.length; i++) {
            let component = object.components[i];
            let newParent = document.createElement("ul");

            newParent.innerHTML = `
                <li class="side-bar__button">
                    <button class="button">
                        ${component.name}
                    </button>
                </li>
            `;
            newParent.getElementsByTagName("button")[0].addEventListener(
                "click",
                function(e) {

                    let target = e.target;

                    if (this.activeButton != undefined) {
                        this.activeButton.classList.remove("is-active");
                    }

                    target.classList.add("is-active");
                    this.activeButton = target;

                    this.makeCategories(component, i);
                }.bind(this)
            );

            if (i == 0) {
                this.makeCategories(component, 0);

                let button = newParent.getElementsByTagName("button")[0];

                button.classList.add("is-active");
                this.activeButton = button;
            }
            
            componentsElement.appendChild(newParent.firstElementChild);
        }
    }

    makeEnvironmentStage(object) {
        this.getClass("js-environment-stage").innerHTML = `
        <img class="environment__image" src="${object.imageSource}" role="presentation"/>
        <img class="js-layer-0"/>
        <img class="js-layer-1"/>
        <img class="js-layer-2"/>
        `;
    }

    makeCategories(component, index) {
        let categoriesElement = this.getClass("js-categories");
        categoriesElement.textContent = "";

        for (let i = 0; i < component.categories.length; i++) {
            let category = component.categories[i];
            let newSection = document.createElement("section");

            let layer = document.createElement("img");
            
            newSection.innerHTML = `
                <h4 class="side-bar__title">
                    ${category.name}
                </h4>
                <ul class="inline"></ul>
            `;

            categoriesElement.appendChild(newSection);

            let textureList = newSection.getElementsByTagName("ul")[0];

            for(let j = 0; j < category.textures.length; j++) {
                let texture = category.textures[j];
                let newParent = document.createElement("div");

                newParent.innerHTML = `
                    <li class="texture inline__item">
                        <button class="texture__button">
                            <label class="texture__label">
                                ${texture.name}
                            </label>
                            <img class="texture__image" src="${texture.thumbnailImageSource}" role="apresentation"
                        </button>
                    </li>
                `;

                newParent.getElementsByTagName("button")[0].addEventListener(
                    "click", 
                    function() {
                        console.log(index);
                        let x = document.getElementsByClassName(`js-layer-${index}`)[0];

                        x.outerHTML = `<img class="environment__layer js-layer-${index}" src="${texture.imageSource}" role="presentation"/>`;
                    }.bind(this)
                );

                let tex = newParent.firstElementChild;

                textureList.appendChild(tex);

                console.log(tex.getBoundingClientRect);
            }
        }
    }
}